# dest dir to use when dest is not defined for a target (defaults to "$HOME/Backups")
default_dest = "$HOME/Backups"


# targets are executed in the order they are in the config file, not the order they are passed, recommend putting elavated targets first because this program doesn't store the password

[target]
# the path of the target which is being archived (required)
path = "/home"

# whether or not it requires elavated priviledges (default false) (unimplemented)
# (if you want to archive something needing root just run this program as root with sudo or equivilent)
elevated = false

# elavate program (default sudo) (while it may seem weird, sudo hasn't actually been tested, only doas, but sudo is the default. make an issue of sudo doesn't work)
elavate_program = "sudo"

# name of the target (required)
name = "home"
# the destination folder to put the archive (overridden by --destdir)
# environment variable allowed in paths
dest = "$HOME/Backups/"

# currently does nothing, only xz is supported (default xz)
# compress command, defaults to "xz -9e --threads=0", supports anything supported by tar
compress_program = "xz -9e --threads=0"

# whether or not to use gpg symmetric encryption (default false, unless elavated=true, in which case it is set to true (for security))
encrypt = true

# command to run before hand. can have multiple run in parralel (controlled with --jobs)
# if a before_hook has a non-zero return value then the target is skipped and an error message is printed
# if --keep-going is specified then it will continue to the other targets
# hooks are executed in system shell (via system())

# the following (additional) environment variables are available to hooks
# BACKMAN_TARGET_DESTFILE the destination file. the final archive path
# BACKMAN_TARGET_NAME     the target's name
# BACKMAN_TARGET_DESTDIR  the targets destination directory
before_hook = "echo $HOME"

# end_hook
end_hook = "echo $HOME"

# relative to path or absolute (relative to current dir, so not recommended)
exclude = "$HOME/Backups"
exclude = "$HOME/.local/share/Steam/steamapps/common"

# flags to append to the tar command before the path (default empty)
# tar is being run as
# `tar ... $add_tar_flags $path ...`
add_tar_flag = "--sparse"

# whether or not to restrict tar to one filesystem (skip subdirs if they are on a different filesystem then their parent)
one_file_system = true
